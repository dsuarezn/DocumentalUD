<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/WEB-INF/plantillas/menuDocumental.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">    
    <ui:define name="bodyJR">
          <p:panel id="cabezote">            
            <h:panelGrid columns="10" cellpadding="10">
                <h:outputText
                    value="#{bundle.documental_GUIRadicar_TituloCabezote}" />                                       
            </h:panelGrid>  
        </p:panel>   
        <h:panelGroup id="messagePanel" layout="block">                            
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" /> 
        </h:panelGroup>        
        <p:panel header="" footer="">
            <h:form id="RadicarFormulario" enctype="multipart/form-data">
                <p:panelGrid style="margin-top:10px" >
                    <p:row>
                        <p:column  colspan="400"  styleClass="ui-widget-header">
                            <p:spacer height="0"/>Radicación
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_hora}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;"><h:outputText value="#{beanRadicacion.currentDate}"/></p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_archivo}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:fileUpload value="#{beanRadicacion.uploadFile}" id="fileupload" dragDropSupport="true" fileUploadListener="#{beanRadicacion.addFileToAttachment}" mode="advanced" sizeLimit="3145728" multiple="true" auto="true" allowTypes="/(\.|\/)(pdf)$/"/>                            
                                 <p:panelGrid>
                                     <ui:repeat var="file" value="#{beanRadicacion.uploadAttachment}" varStatus="status">
                                         <p:row>
                                             <p:column>#{file}</p:column>
                                         </p:row>
                                    </ui:repeat>
                                 </p:panelGrid>
                        </p:column>
                    </p:row>

                     <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_emisor}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneMenu id="usuarioOrigen" value="#{beanRadicacion.idUsuarioOrigen}">
                                <f:selectItems value="#{beanRadicacion.listaUsuarios}" var="user" itemLabel="#{user.usuario}" itemValue="#{user.usuario}"/>
                            </p:selectOneMenu> 
                        </p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_destinatario}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneMenu id="usuarioDest" value="#{beanRadicacion.idUsuarioDestino}">
                                <f:selectItems value="#{beanRadicacion.listaUsuarios}" var="user" itemLabel="#{user.usuario}" itemValue="#{user.usuario}"/>
                            </p:selectOneMenu> 
                        </p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_estado}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneMenu id="estadoDoc" value="#{beanRadicacion.estadoDocumento}">
                                <f:selectItems value="#{beanRadicacion.estadosDocumento}" var="estado" itemLabel="#{estado.nombreEstado}" itemValue="#{estado.codigo}"/>
                            </p:selectOneMenu> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_prioridad}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneMenu id="prioridadDoc" value="#{beanRadicacion.prioridadDocumento}">
                                <f:selectItems value="#{beanRadicacion.prioridadesDocumento}" var="estado" itemLabel="#{estado.nombreEstado}" itemValue="#{estado.codigo}"/>
                            </p:selectOneMenu> 
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_palabrasclaves}"/></p:column> 
                        
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:panelGrid>
                                <p:row>
                                    <p:column>
                                        <p:inputTextarea value="#{beanRadicacion.palabrasClaves}" rows="5" cols="30" counter="display" maxlength="10" counterTemplate="{0} characters remaining." autoResize="false" />
                                    </p:column>                                    
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputText id="display" />                                   
                                    </p:column>
                                </p:row>

                            </p:panelGrid>                        
                        </p:column>
                    </p:row>
                    
                     <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_findocumento}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneRadio id="finDocumento" value="#{beanRadicacion.finDocumento}">
                                <f:selectItem itemValue="aprobar" itemLabel="#{bundle.documental_GUIRadicar_formulario_aprobacion}" />
                                <f:selectItem itemValue="ver" itemLabel="#{bundle.documental_GUIRadicar_formulario_visualizacion}" />                                
                            </p:selectOneRadio>
                          
                        </p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_firmadoc}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <p:selectOneRadio id="firmadoc" value="#{beanRadicacion.finDocumento}">
                                <f:selectItem itemValue="SI" itemLabel="#{bundle.documental_GUIRadicar_formulario_firmado}" />
                                <f:selectItem itemValue="NO" itemLabel="#{bundle.documental_GUIRadicar_formulario_sinfirma}" />                                
                            </p:selectOneRadio>                          
                        </p:column>
                    </p:row>
                                                                                         
                </p:panelGrid>
                <br></br>
               
                <p:commandButton id="bNuevo"  value="&nbsp;Crear"  action="#{beanRadicacion.create()}"  icon="guardar" >
                    <p:confirm header="Confirmation" message="Esta Seguro de Realizar Esta Operación?" icon="ui-icon-alert" />
                </p:commandButton>                                                    
                
                <p:commandButton  value="&nbsp;Volver" action="#{beanRadicacion.volver()}" icon="volver" immediate="true"/>                  
                
                <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                    <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                </p:confirmDialog>
               
            </h:form>               
        </p:panel>
    </ui:define>
</ui:composition>

