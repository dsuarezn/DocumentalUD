<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/WEB-INF/plantillas/menuDocumental.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">    
    <ui:define name="bodyJR">
        <h:panelGroup id="messagePanel" layout="block">                            
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" /> 
        </h:panelGroup>        
        <p:panel >
            <h:form id="cabezote">
                <h:panelGrid columns="10" cellpadding="10">
                    <h:outputText
                        value="#{bundle.documental_GUIBandeja_Detalle}" />                                                     
                </h:panelGrid>
            </h:form>
        </p:panel>
        <p:panel>
            <h:form id="detalleanexo" >
                <p:panelGrid style="margin-top:10px" >
                    <p:row>
                        <p:column  colspan="400"  styleClass="ui-widget-header">
                            <p:spacer height="0"/>Detalle de documento
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_hora}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;"><h:outputText value="#{beanBandeja.selected.documento.fechaCreacion}"/></p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_asunto}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.asunto}" />                  
                        </p:column>
                    </p:row> 
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_descripcion}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.descripcion}" />                  
                        </p:column>
                    </p:row> 
                    <p:row>
    <!--                         <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_emisor}"/></p:column> 
                         <p:column colspan="80" style="font-weight: bold;">
                             <p:selectOneMenu id="usuarioOrigen" style="width: 400px" value="#{beanBandeja.docTrabajo}">
                                 <f:selectItems value="#{beanRadicacion.listaUsuarios}" var="usersel" itemLabel="#{usersel.nombreCompleto}" itemValue="#{usersel.id}" />
                             </p:selectOneMenu> 
                         </p:column>
                     </p:row>
                     <p:row>
                         <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_destinatario}"/></p:column> 
                         <p:column colspan="80" style="font-weight: bold;">
                             <p:selectOneMenu id="dependenciaDest" style="width: 400px" value="#{beanBandeja.docTrabajo.dependenciaDocumentoCollection}">
                                 <f:selectItems value="#{beanRadicacion.listaDependencias}" var="dependencia" itemLabel="#{dependencia.nombre}" itemValue="#{dependencia.idDependencia}"/>
                             </p:selectOneMenu> 
                         </p:column>
                     </p:row>
                     <p:row>-->
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_estado}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.estado}"></h:outputText>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_prioridad}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.prioridad}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_tipodocumento}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.tipoId.nombre}" />
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_findocumento}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.finalidad}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_visualizacion}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.visibilidad}"/>
                        </p:column>
                    </p:row>                  
                    <p:row>
                        <p:column colspan="20" style="font-weight: bold;"><h:outputText value="#{bundle.documental_GUIRadicar_formulario_palabrasclaves}"/></p:column> 
                        <p:column colspan="80" style="font-weight: bold;">
                            <h:outputText value="#{beanBandeja.selected.documento.palabrasClave}"/>                       
                        </p:column>
                    </p:row>                    
                </p:panelGrid>

                <p:panelGrid style="margin-top:10px" >
                    <p:row>
                        <p:column>
                            <p:commandButton id="bCerrar"  value="&nbsp;Cerrar" oncomplete="PF('dlg1').show();" icon="ui-icon-close" immediate="true" />                                                                                   
                            <p:commandButton  value="&nbsp;Ver historico" action="#{beanHistorico.prepareList(beanBandeja.selected.documento.idDocumento)}" icon="volver" immediate="true"/>                  
                            <p:commandButton  value="&nbsp;Rediriguir" action="#{beanBandeja.prepareRedirigir()}" icon="volver" immediate="true"/>                  
                            <p:commandButton  value="&nbsp;Agregar Anexo" action="#{beanAnexo.prepareCreate(beanBandeja.docTrabajo.idDocumento)}" icon="volver" immediate="true"/>                                              
                            <p:commandButton  value="&nbsp;Volver" action="#{beanBandeja.volver()}" icon="volver" immediate="true"/>                                              
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <!--Formulario para cerrar documento-->
                <p:dialog header="Cerrar Documento" widgetVar="dlg1"  minHeight="30">   
                    <h:form id="frmCerrar">
                        <p:panelGrid style="margin-top:10px" >
                            <f:facet name="header">
                                <p:row>
                                    <p:column colspan="200" style="width: 400px">FINALIZAR TRAMITE DOCUMENTO</p:column>
                                </p:row>                  
                            </f:facet>

                            <p:row>
                                <p:column colspan="35" style="font-weight: bold;">#{bundle.documental_GUIComentariosList_Label_Comentario}</p:column>                              
                                <p:column colspan="35" style="font-weight: bold;">
                                    <p:inputTextarea id="comen" required="true" style="width: 400px" value="#{beanBandeja.comentario}" requiredMessage="#{bundle.documental_GUIRedirigirDocumento_Messages_pComentario}" rows="5" cols="30"  maxlength="240"  autoResize="false" />
                                </p:column>                                        
                            </p:row>                                                
                        </p:panelGrid>
                        <br></br>                                
                        <p:separator/>
                        <p:commandButton icon="guardar"  oncomplete="PF('dlg1').hide();" action="#{beanBandeja.cerrarDocumento()}" value="&nbsp;Aceptar"/>
                        <p:commandButton icon="cancelar" oncomplete="PF('dlg1').hide();" value="&nbsp;Cancelar"/>                    
                    </h:form>
                </p:dialog>   
            </h:form> 
        </p:panel>
    </ui:define>
</ui:composition>

