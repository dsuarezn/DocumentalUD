<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/WEB-INF/plantillas/menuDocumental.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">  

    <ui:define name="bodyJR">
        <p:panel id="cabezote">            
            <h:panelGrid columns="10" cellpadding="10">
                <h:outputText
                    value="#{bundle.documental_GUIHistorico_TituloCabezote}" />                                       
            </h:panelGrid>  
        </p:panel>        
        <p:panel header="" footer="">
            <h:form id="frmNiveles">
                <p:dataTable id="nivelAcceso" var="historico" value="#{beanHistorico.items}"
                             emptyMessage="No Se Han Filtrado Resultados"
                             filteredValue="#{beanHistorico.listHistorico}"
                             paginator="true" rows="15"
                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,15"  
                             scrollable="true">
                    <p:column sortBy="#{historico.loginOrigen.nombre}" filterBy="#{historico.loginOrigen.nombre}" headerText="#{bundle.documental_GUIHistorico_Origen}">
                        <h:outputText value="#{historico.loginOrigen.nombre}" />
                    </p:column>

                    <p:column sortBy="#{historico.loginDestinatario.nombre}" filterBy="#{historico.loginDestinatario.nombre}" headerText="#{bundle.documental_GUIHistorico_Destino}">
                        <h:outputText value="#{historico.loginDestinatario.nombre}" />
                    </p:column>

                    
                    <p:column sortBy="#{historico.fecha}" filterBy="#{historico.fecha}" headerText="#{bundle.documental_GUIHistorico_Fecha}">
                        <h:outputText value="#{historico.fecha}" >
                            <f:convertDateTime pattern="dd 'de' MMMM 'de' yyyy 'a las' hh:mm a" />
                        </h:outputText>
                    </p:column>
                    
                    <p:column sortBy="#{historico.comentario}" filterBy="#{historico.comentario}" headerText="#{bundle.documental_GUIHistorico_Comentario}">
                        <h:outputText value="#{historico.comentario}" />
                    </p:column>
                    
                    
                </p:dataTable>          
            </h:form>
            
            <p:commandButton  value="&nbsp;Volver" action="#{beanHistorico.volver()}" icon="volver" immediate="true"/>                                                  

        </p:panel>        
    </ui:define>
</ui:composition>

